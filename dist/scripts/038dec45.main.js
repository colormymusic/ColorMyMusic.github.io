"use strict";var myApp=angular.module("myApp",["ngRoute","ngAnimate","ngResource","ngSanitize","mailchimpSubscriptionControllers"]),mailchimpSubscriptionControllers=angular.module("mailchimpSubscriptionControllers",[]);mailchimpSubscriptionControllers.controller("MailchimpSubscriptionCtrl",["$log","$resource","$scope",function(a,b,c){c.addSubscription=function(c){var d,e,f,g;g="//"+c.username+"."+c.dc+".list-manage.com/subscribe/post-json",f={EMAIL:c.email,FNAME:c.fname,LNAME:c.lname,c:"JSON_CALLBACK",u:c.u,id:c.id},d={save:{method:"jsonp"}},e=b(g,f,d),e.save(function(a){if(c.successMessage="",c.errorMessage="",c.result=a.result,"error"===a.result)if(a.msg){var b=a.msg.split(" - ");b.length>1&&b.shift(),c.errorMessage=b.join(" ")}else c.errorMessage="Sorry! An unknown error occured.";else"success"===a.result&&(c.successMessage="Thanks for subscribing! Please confirm the email you receive to complete the process.")},function(b){a.error("MailChimp Error: %o",b)})}}]);